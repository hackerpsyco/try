{% extends 'admin/shared/base.html' %}

{% block content %}

<div class="container-fluid py-4">
   <button class="btn btn-secondary btn-sm mb-3" onclick="window.history.back();">
        <i class="bi bi-arrow-left"></i> Back
    </button>

  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-3">
      <h4 class="fw-bold mb-0">
      {{ school.name }} <span class="text-muted fs-6">- School Detail</span>
    </h4>

    <button class="btn btn-outline-secondary btn-sm">
      <i class="bi bi-box-arrow-up"></i> Export CSV
    </button>
  </div>

  <!-- Tabs -->
  <ul class="nav nav-tabs mb-3">
    <li class="nav-item">
      <a class="nav-link active" href="#">Overview</a>
    </li>
     <li class="nav-item">
    <a class="nav-link {% if not school %}active{% endif %}"
       href="{% url 'class_sections_list_by_school'  school.id %}">
        All Classes
    </a>
</li>
    <li class="nav-item">
      <a class="nav-link" href="#">Facilitators</a>
    </li>
      <a class="nav-link" href="{% url 'students_list' school.id %}">Students</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" href="#">Attendance</a>
    </li>
   
  </ul>

  <!-- Stats Cards -->
  <div class="row g-3 mb-2">
    <div class="col-md-3 col-sm-6">
      <div class="card shadow-sm border-0">
        <div class="card-body d-flex align-items-center gap-3">
          <div class="icon text-primary fs-3"><i class="bi bi-people"></i></div>
          <div>
            <div class="text-muted small">Staff</div>
            <div class="fw-semibold">{{ school.staff_count }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="card shadow-sm border-0">
        <div class="card-body d-flex align-items-center gap-3">
          <div class="icon text-info fs-3"><i class="bi bi-person-badge"></i></div>
          <div>
            <div class="text-muted small">Students</div>
            <div class="fw-semibold">{{ school.enrolled_students }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="card shadow-sm border-0">
        <div class="card-body d-flex align-items-center gap-3">
          <div class="icon text-warning fs-3"><i class="bi bi-calendar-event"></i></div>
          <div>
            <div class="text-muted small">Sessions</div>
            <div class="fw-semibold">{{ school.sessions_count }}</div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-md-3 col-sm-6">
      <div class="card shadow-sm border-0">
        <div class="card-body d-flex align-items-center gap-3">
          <div class="icon text-success fs-3"><i class="bi bi-check-circle"></i></div>
          <div>
            <div class="text-muted small">Attendance</div>
            <div class="fw-semibold">{{ school.attendance_percentage }}%</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  </div>
  <div class="justify-content-center ">
  <div class="card shadow-sm border-0" style="max-width: 500px; width: 100%;">
    <div class="card-body">
      <p class="mb-1"><strong>Address:</strong> {{ school.address }}</p>
      <p class="mb-1"><strong>District:</strong> {{ school.district }}</p>
      <p class="mb-0"><strong>Classes:</strong> {{ school.classes }}</p>
    </div>
  </div>
</div>

</div>

{% endblock %}