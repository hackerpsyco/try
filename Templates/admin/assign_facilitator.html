{% extends 'admin/shared/base.html' %}

{% block title %}Assign Facilitator to Class{% endblock %}

{% block content %}
<div class="py-6 max-w-2xl mx-auto">

  <!-- Back button -->
  <button onclick="window.history.back()"
          class="inline-flex items-center gap-2 px-3 py-2 mb-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 text-sm">
    â—€ Back
  </button>

  <!-- Card -->
  <div class="bg-white border border-gray-200 rounded-xl shadow-sm">

    <!-- Header -->
    <div class="px-6 py-4 border-b border-gray-200">
      <h5 class="text-lg font-semibold text-gray-900">Assign Facilitator to Class</h5>
      <p class="text-sm text-gray-500 mt-1">Select a facilitator to assign to this class</p>
    </div>

    <!-- Body -->
    <div class="px-6 py-6">
      <form method="post" novalidate>
        {% csrf_token %}

        <!-- School -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">School</label>
          <input type="text" 
                 value="{{ school.name }}" 
                 disabled
                 class="w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600">
        </div>

        <!-- Class -->
        <div class="mb-6">
          <label class="block text-sm font-medium text-gray-700 mb-2">Class</label>
          <input type="text" 
                 value="{{ class_section.display_name }}" 
                 disabled
                 class="w-full px-4 py-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-600">
        </div>

        <!-- Facilitator Selection -->
        <div class="mb-6">
          <label for="id_facilitator" class="block text-sm font-medium text-gray-700 mb-2">
            Select Facilitator
          </label>
          {{ form.facilitator }}
          {% if form.facilitator.errors %}
            {% for error in form.facilitator.errors %}
              <p class="mt-1 text-sm text-red-600">{{ error }}</p>
            {% endfor %}
          {% endif %}
        </div>

        <!-- Form Errors -->
        {% if form.non_field_errors %}
          <div class="p-4 bg-red-50 border border-red-200 rounded-lg mb-6">
            <p class="text-sm text-red-700">
              {% for error in form.non_field_errors %}
                {{ error }}
              {% endfor %}
            </p>
          </div>
        {% endif %}

        <!-- Actions -->
        <div class="flex justify-end gap-3">
          <button type="button" 
                  onclick="window.history.back()"
                  class="px-4 py-2 text-sm font-medium border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition">
            Cancel
          </button>

          <button type="submit"
                  class="px-5 py-2.5 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 transition">
            Assign Facilitator
          </button>
        </div>
      </form>
    </div>
  </div>

</div>

<style>
  select {
    width: 100%;
    padding: 0.625rem 1rem;
    border: 1px solid #d1d5db;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    transition: all 0.2s;
  }

  select:focus {
    outline: none;
    ring: 2px;
    ring-color: #3b82f6;
    border-color: transparent;
  }
</style>

{% endblock %}
