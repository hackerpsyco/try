<aside class="sidebar d-flex flex-column" style="height: 100vh; overflow: hidden;">
    <!-- User Profile -->
    <div class="user-profile mb-4">
        <div class="avatar"
             style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuBv1qbMwANXehUvUuj7jLYDFVVfq_SWUg2g49l3SmLWskDtYHpHJ_8WvJwsx9a2FRubRslmWVa_i5P7tT8w3--UoztcwCpbKLOazTabnBD2N_fY6OQ7FRlKs_zlUcTkD7KY9w-hiqblxryxB10EyToaRWquh2M4i_rDvKfif1kGdDqLVYibrW5HsihGpGcxNNJEB8c7BL9lRSrGdRbSOnvY4eHzXRrkhgnIo7Q7R9Ra_WPzsy-VPqL4V_-_ekNly4XBYSN8gI28pPAs');">
        </div>
        <div class="user-info">
            <h1>Facilitator Platform</h1>
            <p>{{ request.user.email }}</p>
        </div>
    </div>

    <!-- Navigation - Scrollable -->
    <nav class="nav flex-column flex-grow-1" style="overflow-y: auto; overflow-x: hidden;">

        <!-- Dashboard -->
        <a class="nav-link {% if request.resolver_match.url_name == 'facilitator_dashboard' %}active{% endif %}"
           href="{% url 'facilitator_dashboard' %}">
            <span class="material-symbols-outlined">dashboard</span>
            Dashboard
        </a>

        <!-- My Classes -->
        <a class="nav-link {% if 'facilitator_schools_list' in request.resolver_match.url_name or 'facilitator_school_detail' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'facilitator_schools_list' %}">
            <span class="material-symbols-outlined">school</span>
            My Classes
        </a>

        <!-- My Schools -->
        <a class="nav-link {% if 'facilitator_schools' in request.resolver_match.url_name and 'facilitator_schools_list' not in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'facilitator_schools_list' %}">
            <span class="material-symbols-outlined">domain</span>
            My Schools
        </a>

        <!-- Student Management -->
        <a class="nav-link {% if 'facilitator_students' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'facilitator_students_list' %}">
            <span class="material-symbols-outlined">groups</span>
            Students
        </a>

        <!-- Student Performance -->
        <a class="nav-link {% if 'student_performance' in request.resolver_match.url_name or 'facilitator_performance' in request.resolver_match.url_name %}active{% endif %}"
           href="{% url 'facilitator_performance_class_select' %}">
            <span class="material-symbols-outlined">trending_up</span>
            Performance
        </a>

        <!-- Today's Session (Calendar-based) -->
        <a class="nav-link {% if request.resolver_match.url_name == 'facilitator_today_session' %}active{% endif %}"
           href="{% url 'facilitator_today_session' %}">
            <span class="material-symbols-outlined">today</span>
            Today's Session
        </a>

        <!-- Attendance Management -->
        <a class="nav-link {% if request.resolver_match.url_name == 'facilitator_attendance' %}active{% endif %}"
           href="{% url 'facilitator_attendance' %}">
            <span class="material-symbols-outlined">how_to_reg</span>
            Attendance
        </a>

    </nav>

    <!-- Bottom Navigation - Fixed at bottom -->
    <div class="nav-section mt-auto" style="flex-shrink: 0; border-top: 1px solid #e0e0e0; padding-top: 1rem;">

        <a class="nav-link {% if request.resolver_match.url_name == 'facilitator_settings' %}active{% endif %}" href="{% url 'facilitator_settings' %}">
            <span class="material-symbols-outlined">settings</span>
            Settings
        </a>

        <a class="nav-link" href="{% url 'logout' %}">
            <span class="material-symbols-outlined">logout</span>
            Logout
        </a>

    </div>
</aside>